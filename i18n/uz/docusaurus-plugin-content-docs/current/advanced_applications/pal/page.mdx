---
sidebar_position: 4
title: "ðŸŸ¡ Kod sifatida mantiqlash"
---


# Kod sifatida mantiqlash

[Program-aided Language Models (PAL)Dastur yordamida qoâ€˜llab-quvvatlangan til modellari](https://reasonwithpal.com)(@gao2022pal) MRKL tizimining yana bir namunasi hisoblanadi.
Savol berilganda, PALlar ushbu savolni hal qiladigan **kod yozish** qobiliyatiga ega. Ular
natijani olish uchun kodni dasturiy ishga tushirish muhiti orqali bajaradi. PAL esa CoT ga teskari tarzda ishlaydi; PAL ning oraliq
Reasoning kod hisoblanadi, CoT esa tabiiy til hisoblanadi.



<div style={{ textAlign: "center" }}>PAL Example (Gao et al.)</div>

Muhim jihatlardan biri shundaki, PAL aslida tabiiy til (NL) va kodni aralashtirib ishlatadi.
Yuqoridagi rasmda koâ€˜k rangda PAL tomonidan yaratilgan tabiiy til asosidagi mulohazalar koâ€˜rsatilgan. Garchi u
rasmda koâ€˜rsatilmagan boâ€˜lsa-da, PAL aslida NL asoslantirishining har bir qatori oldidan '\#' hosil qiladi, shuning uchun
ular dasturiy bajarilish muhiti tomonidan izoh sifatida talqin qilinadi.

## Misol

Keling, PAL matematik savolni qanday yechishini misol orqali koâ€˜ramiz. Men 3-shot prompt dan foydalanaman,
bu [mana bu](https://github.com/reasoning-machines/pal/blob/main/pal/prompt/math_prompts.py)(@gao2022pal) ning soddalashtirilgan versiyasi.

Men buning uchun LLM funksionalligini zanjirlash uchun Python paketi boâ€˜lgan langchainâ€™dan foydalanaman. Avvalo, bir nechta oâ€˜rnatishlar kerak boâ€˜ladi:

```python
!pip install langchain==0.0.26
!pip install openai
from langchain.llms import OpenAI
import os
os.environ["OPENAI_API_KEY"] = "sk-YOUR_KEY_HERE"
```

Keyin, biz GPT-3 davinci-002 namunasi yaratishimiz mumkin (bu obyektni ishlatganimizda API chaqiruvi amalga oshiriladi)

```python
llm = OpenAI(model_name='text-davinci-002', temperature=0)
```

Mana bir nechta promptlar:

```python
MATH_PROMPT = '''
Q: Savol: Server xonasida toâ€˜qqizta kompyuter bor edi. Dushanbadan payshanbagacha har kuni yana beshtadan kompyuter oâ€˜rnatildi. Hozir server xonasida nechta kompyuter bor?
# Yechim in Python:
"""Savol: Server xonasida toâ€˜qqizta kompyuter bor edi. Dushanbadan payshanbagacha har kuni yana beshtadan kompyuter oâ€˜rnatildi. Hozir server xonasida nechta kompyuter bor?"""
boshlang'ich kompyuterlar soni = 9
kompyuterlar_harkuni = 5
kunlar_soni = 4  # 4 days between monday and thursday
qo'shilgan_kompyuterlar = kompyuterlar_harkuni * kunlar_soni
kompyuterlar_yig'indisi = boshlang'ich kompyuterlar soni + qo'shilgan_kompyuterlar
natija = kompyuterlar_yig'indisi
return natija


Q:Savol: Shonning beshta oâ€˜yinchogâ€˜i bor. Rojdestvoda u onasidan va otasidan ikki tadan oâ€˜yinchoq oldi. Hozir uning nechta oâ€˜yinchogâ€˜i bor?

# Yechim  Pythonda:
"""Savol: Shonning beshta oâ€˜yinchogâ€˜i bor. Rojdestvoda u onasidan va otasidan ikki tadan oâ€˜yinchoq oldi. Hozir uning nechta oâ€˜yinchogâ€˜i bor?"""
boshlang'ich_o'yinchoqlar = 5
onasi_bergan_o'yinchoqlar = 2
dadasi_bergan_o'yinchoqlar = 2
yig'indisi = onasi_bergan_o'yinchoqlar + dadasi_bergan_o'yinchoqlar
o'yinchoqlar_yig'indisi = boshlang'ich_o'yinchoqlar + yig'indisi
natija = o'yinchoqlar_yig'indisi


Q: Savol: Jeysonda 20 ta chupa-chups bor edi. U Denniyga bir nechta chupa-chups berdi. Endi Jeysonda 12 ta chupa-chups qoldi. Jeyson Denniyga nechta chupa-chups berdi?

# Yechim Pythonda:
"""Savol: Jeysonda 20 ta chupa-chups bor edi. U Denniyga bir nechta chupa-chups berdi. Endi Jeysonda 12 ta chupa-chups qoldi. Jeyson Denniyga nechta chupa-chups berdi?"""
jason_lollipops_boshlang'ich = 20
jason_lollipops_keyin = 12
denny_lollipops = jason_lollipops_boshlang'ich - jason_lollipops_keyin
natija = denny_lollipops

Q: {question}

# Yechim  Pythonda:
'''
```

Endi biz birlashtirilgan promptni GPT-3 ga uzatishimiz mumkin.

```python
llm_out = llm(MATH_PROMPT.format(question=question))
print(llm_out)
```

Natija quyidagicha:

<pre>
  <span className="bluegreen-highlight">
Emma Sietlga 60 daqiqalik samolyot parvozida bordi. Soâ€˜ngra u 2 soatlik poezdda yoâ€˜l oldi.
Portlandga borish, soâ€˜ngra 30 daqiqalik avtobus yoâ€˜li orqali Vankuverga yetib borish. Qancha vaqt ketadi
Unga Vankuverga yetib borish uchun qancha vaqt ketadi?
    <br />
    <br />
    plane_ride = 60
    <br />
train_ride = 2 * 60 # 2 soat daqiqalarda
    <br />
    bus_ride = 30
    <br />
total_time = plane_ride + train_ride + bus_ride
    <br />
natija = total_time
  </span>
</pre>

Nihoyat, biz ushbu kodni Python muhiti orqali yuborib, javobni olamiz:

```python
exec(llm_out)
print(natija)
```

Natija **210**, bu toâ€˜gâ€˜ri.

Ushbu misol uchun Jupyter daftarini [bu yerda](https://github.com/trigaten/Learn_Prompting/tree/main/docs/code_examples/PAL.ipynb) koâ€˜ring.

## Boshqalar

Shuningdek, [PAL'ning colab namunasi](https://colab.research.google.com/drive/1u4_RsdI0E79PCMDdcPiJUzYhdnjoXeXc?usp=sharing#scrollTo=Ba0ycacK4i1V) ga qarang.
