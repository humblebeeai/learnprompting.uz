---
sidebar_position: 5
title: "ðŸŸ¡ Prompt ansambl qilish"
---


# Promptlarni ansambl qilish

Prompt ensembling â€” bu bir nechta turli promptlardan foydalanish orqali harakat qilish tushunchasidir
Xuddi shu savolga javob bering. Buning uchun turli xil yondashuvlar mavjud.

## DiVeRSe

DiVeRSe (@li2022advance) ("**Di**verse **Ve**rifier on **R**easoning **S**t**e**ps") bu
javoblarning ishonchliligini uch yoâ€˜nalishda oshiradigan usul. Bu quyidagilar orqali amalga oshiriladi

1) bir nechta promptlardan foydalanib, turli xil yakunlarni yaratish,
2) yaxshi javoblarni yomon javoblardan ajratish uchun tekshiruvchi vositasidan foydalanish, va
3) mulohaza yuritish bosqichlarining toâ€˜gâ€˜riligini tekshirish uchun tekshiruvchi foydalanish.





Ask Me Anything (AMA) prompting (@arora2022ama) DiVeRSe ga oâ€˜xshash yondashuv hisoblanadi. Biroq, uning bir nechta prompt yaratish bosqichi va javoblarni birlashtirish bosqichi sezilarli darajada farq qiladi. AMA ning asosiy gâ€˜oyasi shundaki, bir nechta few-shot namunalaridan foydalanish oâ€˜rniga, bir nechta promptlarni yaratish uchun LLM dan foydalaniladi.

### Bir nechta Promptlar

AMA shuni koâ€˜rsatadiki, siz savolni olib, uni bir nechta usullarda qayta formatlab, turli promptlar yaratishingiz mumkin. Masalan, siz hayvonlar haqidagi maâ€™lumotlarni bir qancha veb-saytlardan yigâ€˜ayotgan boâ€˜lsangiz va faqat Shimoliy Amerikada yashaydiganlarini yozib olishni istasangiz. Keling, buni aniqlash uchun prompt tuzamiz.

Quyidagi Wikipedia parchasiga asoslanib:

<AIInput>
Kermode ayiÄŸi, baâ€™zan ruh ayiÄŸi deb ham ataladi (Ursus americanus kermodei), Amerika qora ayiÄŸinin kichik turi boâ€˜lib, Kanada, Britaniya Kolumbiyasining Markaziy va Shimoliy sohil hududlarida yashaydi.
</AIInput>

Siz bu vazifani quyidagicha promptga formatlashingiz mumkin:

<AIInput>
Quyidagi da'vo kontekstga koâ€˜ra Toâ€˜gâ€˜ri yoki Notoâ€˜gâ€˜ri ekanligini aniqlang.

Kermode ayiÄŸi, baâ€™zan ruh ayiÄŸi deb ham ataladi (Ursus americanus kermodei), Amerika qora ayiÄŸi ning kichik turi boâ€˜lib, Kanada ning Britaniya Kolumbiyasi markaziy va shimoliy sohil hududlarida yashaydi.
Daâ€™vo: Bu hayvon Shimoliy Amerikada yashaydi
Javob:
</AIInput>

Bu biroz gâ€˜alati ifoda. Nega shunchaki quyidagi oddiyroq promptdan foydalanmaslik kerak?

<AIInput>
Kermode ayiÄŸi, baâ€™zan spirit bear deb ham ataladi (Ursus americanus kermodei), Amerika qora ayiÄŸi ning kichik turi boâ€˜lib, Kanada ning Britaniya Kolumbiyasi markaziy va shimoliy sohil hududlarida yashaydi.
Savol: Bu hayvon Shimoliy Amerikada yashaydimi?
</AIInput>

Xoâ€˜sh, savolni shu maxsus tarzda shakllantirish orqali biz turli promptlarni yaratishimiz mumkin.
Bu yerda birinchi qadamingiz `This animal lives in North America` da'vosini olib, uni turli savollarga qayta formatlash bo'ladi, ular asosan bir xil narsani so'ramoqda. Buni amalga oshirish uchun, biz da'voni quyidagi rasmda ko'rsatilgan promptlar orqali o'tkazamiz.



Bu quyidagicha natija berishi mumkin:

1. Hayvon Shimoliy Amerikada yashaganmi?
2. Hayvon Shimoliy Amerikada yashaydimi?
3. Hayvon qayerda yashaydi?

Buning orqasidagi gâ€˜oya â€” vazifaning turli _koâ€˜rinishlari_ni yaratishdir. Soâ€˜ngra har birini quyidagicha berilgan kontekstga qoâ€˜llaymiz:

<AIInput>
Kermode ayiÄŸi, baâ€™zan ruh ayiÄŸi deb ham ataladi (Ursus americanus kermodei), Amerika qora ayiÄŸining kichik turi boâ€˜lib, Kanadaning Britaniya Kolumbiyasi markaziy va shimoliy sohil hududlarida yashaydi.
Savol: Hayvon Shimoliy Amerikada yashaganmi?
</AIInput>

Keyin, biz har biri uchun javoblar yaratishimiz mumkin:

1. `Yes it was`
2. `Yes it does`
3. Shimoliy Amerika

Bular _oraliq_ javoblardir. Biz ularni vazifa yorliqlariga (masalan, Ha yoki Yoâ€˜q) moslashtirishimiz kerak.

Buni biz oraliq javoblarni quyidagidek prompt orqali uzatish orqali amalga oshirishimiz mumkin:

<AIInput>
Toâ€˜gâ€˜ri toifani tanlang.

"Kategoriyalar":
- Ha, Shimoliy Amerika
- Yoâ€˜q, Shimoliy Amerika emas

"Ha, bu shunday" quyidagi toifaga mos keladi:
</AIInput>

Endi biz natijaviy javoblarimizni olamiz.

1. Ha, Shimoliy Amerika
2. Ha, Shimoliy Amerika
3. Ha, Shimoliy Amerika

Bu yerda, ular barchasi rozi, shuning uchun biz shunchaki birinchi javobni olamiz. Biroq, agar ular rozi boâ€˜lmaganida, yakuniy javob olish uchun AMA agregatsiya bosqichidan foydalanishimiz mumkin edi.

### Javoblarni yigâ€˜ish

AMA javoblarni yigâ€˜ishda (DiVeRSeâ€™dan ham murakkabroq) juda murakkab strategiyadan foydalanadi, faqat koâ€˜pchilik javobini olish oâ€˜rniga. Nega koâ€˜pchilik javobi yomon tanlov boâ€˜lishi mumkinligini tushunish uchun, avval yaratgan ikki savolimizni koâ€˜rib chiqing:

1. Hayvon Shimoliy Amerikada yashaganmi?
2. Hayvon Shimoliy Amerikada yashaydimi?

Ular juda oâ€˜xshash, shuning uchun ehtimol bir xil natija hosil qiladi. Savollar juda oâ€˜xshash boâ€˜lgani uchun, ular yakuniy natijaga taâ€™sir koâ€˜rsatadi. Buni hal qilish uchun, AMA zaif nazorat va murakkab matematikaga tayanadi, u yaratgan turli promptlar oâ€˜rtasidagi bogâ€˜liqliklarni baholaydi va keyin ularni mos ravishda ogâ€˜irlik bilan baholaydi.

Shunday qilib, biz yaratgan uchta savol uchun u 25%, 25% va 50% ogâ€˜irliklarni belgilashi mumkin, chunki birinchi ikkisi juda oâ€˜xshash.

AMA ning agregatsiya strategiyasi kuchli boâ€˜lsa-da, u shunchalik murakkabki, bu yerda uni yoritmayman. Batafsil maâ€™lumot uchun maqolaning 3.4-boâ€˜limini oâ€˜qing (@arora2022ama).

### Natijalar

- Ushbu prompting strategiyasi yordamida AMA GPT-J-6B (@wange2021gptj) dan foydalanib, GPT-3 dan yaxshiroq natijalarga erisha oladi.

- AMA berilgan kontekstda javob mavjud boâ€˜lgan savollarda yaxshiroq ishlaydi.

## Xulosalar

Ansambl usullari juda kuchli. Ular har qanday modelning samaradorligini oshirish uchun ishlatilishi mumkin va modelning maâ€™lum bir vazifadagi samaradorligini oshirish uchun ham qoâ€˜llanilishi mumkin.

Amaliyotda, koâ€˜pchilik ovozi sizning asosiy strategiyangiz boâ€˜lishi kerak.
