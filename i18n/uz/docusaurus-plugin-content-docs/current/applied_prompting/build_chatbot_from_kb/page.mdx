---
sidebar_position: 40
title: "ğŸŸ¢ Chatbot + Knowledge Base"
---


# Chatbot + Knowledge Base

Soâ€˜nggi paytlarda yirik til modellari (LLM) sohasida [GPT-3](https://arxiv.org/abs/2005.14165) va [ChatGPT](https://chat.openai.com/chat) kabi yutuqlar texnologiya sohasida katta shov-shuvga sabab boâ€˜ldi. Ushbu modellarning kontent yaratishda imkoniyatlari juda kuchli, biroq ular ayrim kamchiliklarga ham ega, masalan, tarafkashlik (@nadeem-etal-2021-stereoset) va xayoliy javoblar (@Ji_2022). LLMâ€™lar ayniqsa chatbot ishlab chiqishda foydali boâ€˜lishi mumkin boâ€˜lgan sohalardan biridir.

## Intentga asoslangan chatbotlar

Anâ€™anaviy chatbotlar odatda intentga asoslangan boâ€˜ladi, yaâ€™ni ular foydalanuvchining aniq niyatlariga javob berish uchun yaratilgan. Har bir intent bir nechta namunaviy savollar va unga mos javobdan iborat boâ€˜ladi. Masalan, â€œOb-havoâ€ intenti â€œBugun ob-havo qanday?â€ yoki â€œBugun yomgâ€˜ir yogâ€˜adimi?â€ kabi namunaviy savollar va â€œBugun quyoshli boâ€˜ladi.â€ kabi javobni oâ€˜z ichiga olishi mumkin. Foydalanuvchi savol berganda, chatbot uni eng oâ€˜xshash namunaviy savollarga ega intentga moslashtiradi va unga mos javobni qaytaradi.



Biroq, intentga asoslangan chatbotlarning oâ€˜ziga xos muammolari bor. Masalan, ular aniq javoblar berish uchun juda koâ€˜p sonli intentlarni talab qiladi. Masalan, â€œKira olmayapmanâ€, â€œParolimni unutdimâ€ yoki â€œKirishda xatoâ€ kabi foydalanuvchi soâ€˜zlari uch xil javob va shuning uchun uch xil intentni talab qilishi mumkin, garchi ular bir-biriga juda oâ€˜xshash boâ€˜lsa ham.

## GPT-3 qanday yordam bera oladi

Mana shu yerda GPT-3 ayniqsa foydali boâ€˜lishi mumkin. Juda koâ€˜p aniq intentlar oâ€˜rniga, har bir intent kengroq boâ€˜lishi va sizning [Knowledge Base](https://en.wikipedia.org/wiki/Knowledge_base) dan biror hujjatga tayanishi mumkin. Knowledge Base (KB) â€” bu tahlil yoki xulosa chiqarish uchun tayyor holda saqlangan tuzilgan va tuzilmagan maâ€™lumotlardir. Sizning KBâ€™ingiz mahsulotlaringizdan qanday foydalanish haqida tushuntiruvchi hujjatlar toâ€˜plamidan iborat boâ€˜lishi mumkin.

Bu usulda har bir intent savollar roâ€˜yxati va aniq javob oâ€˜rniga biror hujjatga bogâ€˜lanadi, masalan, â€œkirish muammolariâ€ uchun bitta intent, â€œobuna boâ€˜lish tartibiâ€ uchun yana bir intent va hokazo. Foydalanuvchi kirish haqida savol berganda, â€œkirish muammolariâ€ hujjatini GPT-3 ga kontekst sifatida uzatib, foydalanuvchi savoliga aniq javob yaratishimiz mumkin.



Bu yondashuv boshqarilishi kerak boâ€˜lgan intentlar sonini kamaytiradi va har bir savolga yaxshiroq moslashtirilgan javoblar olish imkonini beradi. Bundan tashqari, agar intentga bogâ€˜langan hujjatda turli jarayonlar (masalan, â€œveb-saytda kirishâ€ va â€œmobil ilovada kirishâ€ jarayoni) tasvirlangan boâ€˜lsa, GPT-3 foydalanuvchidan aniqlik kiritishni soâ€˜rab, soâ€˜ngra yakuniy javobni bera oladi.

## Nega butun KBâ€™ni GPT-3 ga uzata olmaymiz?

Hozirda GPT-3 kabi LLMâ€™larda maksimal prompt hajmi taxminan 4 ming token ( [`text-davinci-003`](https://beta.openai.com/docs/models/gpt-3) modeli uchun), bu koâ€˜p, lekin butun knowledge baseâ€™ni bitta promptga joylash uchun yetarli emas. LLMâ€™larda hisoblash sabablari tufayli maksimal prompt hajmi mavjud, chunki ular bilan matn yaratish prompt hajmi oshgani sari tezda koâ€˜payadigan hisob-kitoblarni talab qiladi.

Kelajakdagi LLMâ€™larda bu cheklov boâ€˜lmasligi va matn yaratish imkoniyatlari saqlanib qolishi mumkin. Ammo hozircha, biz bu cheklov atrofida yechim ishlab chiqishimiz kerak.

## GPT-3 bilan chatbot qanday ishlashi mumkin

Demak, chatbot pipeline ikki bosqichdan iborat boâ€˜lishi mumkin:

1. Avvalo, foydalanuvchi savoli uchun mos intentni tanlashimiz kerak, yaâ€™ni knowledge baseâ€™imizdan toâ€˜gâ€˜ri hujjatni topishimiz kerak.
2. Keyin, toâ€˜gâ€˜ri hujjatga ega boâ€˜lganimizdan soâ€˜ng, GPT-3 dan foydalanuvchiga mos javob yaratishda foydalanishimiz mumkin. Bunda, yaxshi prompt tuzishimiz kerak boâ€˜ladi.

Birinchi bosqich asosan [semantik qidiruv](https://en.wikipedia.org/wiki/Semantic_search) yordamida hal qilinadi. [`sentence-transformers`](https://www.sbert.net/examples/applications/semantic-search/README.html) kutubxonasidan tayyor modellarni ishlatib, har bir hujjatga osonlik bilan ball berishimiz mumkin. Eng yuqori ball olgan hujjat chatbot javobini yaratishda ishlatiladi.



## GPT-3 yordamida javoblar yaratish

Toâ€˜gâ€˜ri hujjatga ega boâ€˜lganimizdan soâ€˜ng, GPT-3 yordamida javob yaratish uchun yaxshi prompt tuzishimiz kerak boâ€˜ladi. Quyidagi tajribalarda har doim `text-davinci-003` modelini `0.7` temperaturada ishlatamiz.

Prompt tuzishda quyidagilarni sinab koâ€˜ramiz:

- [**Role-prompting**](https://learnprompting.org/docs/basics/roles): AIâ€™ga aniq rol beruvchi evristik usul.
- **Tegishli KB maâ€™lumoti**, yaâ€™ni semantik qidiruv bosqichida topilgan hujjat.
- **Foydalanuvchi va chatbot oâ€˜rtasida oxirgi almashilgan xabarlar**. Bu foydalanuvchi tomonidan yuborilgan, lekin toâ€˜liq kontekst koâ€˜rsatilmagan xabarlar uchun foydalidir. Buning misolini keyinroq koâ€˜ramiz. GPT-3 bilan suhbatlarni boshqarish boâ€˜yicha [ushbu misolga](https://learnprompting.org/docs/applied_prompting/build_chatgpt) qarang.
- Va nihoyat, **foydalanuvchi savoli**.



Promptimizni <span className="yellow-highlight">role-prompting</span> texnikasi yordamida boshlaymiz.

<pre>
  <span className="yellow-highlight">
    Skippy nomli ilgâ€˜or chatbot sifatida, sizning asosiy maqsadingiz foydalanuvchilarga
    imkon qadar yaxshi yordam berishdir.
  </span>
</pre>

Endi, faraz qilaylik, semantik qidiruv bosqichida knowledge baseâ€™imizdan quyidagi hujjat ajratib olindi. Barcha hujjatlar VideoGram mahsuloti qanday ishlashini tushuntiradi, bu Instagramâ€™ga oâ€˜xshash, lekin faqat videolar uchun moâ€˜ljallangan xayoliy mahsulotdir.



Uning <span className="yellow-highlight">mazmunini</span> promptga quyidagicha qoâ€˜shishimiz mumkin.

<pre>
Skippy nomli ilgâ€˜or chatbot sifatida, sizning asosiy maqsadingiz foydalanuvchilarga imkon qadar yaxshi yordam berishdir.
  <br />
  <span className="yellow-highlight">
    START CONTEXT
    VideoGramâ€™ga veb-sayt orqali kirish
        1. Brauzeringizni oching va VideoGram veb-saytiga oâ€˜ting.
        2. Sahifaning yuqori oâ€˜ng burchagida joylashgan â€œKirishâ€ tugmasini bosing.
        3. Kirish sahifasida VideoGram foydalanuvchi nomi va parolingizni kiriting.
        4. Maâ€™lumotlaringizni kiritganingizdan soâ€˜ng, â€œKirishâ€ tugmasini bosing.
        5. Endi siz VideoGram akkauntingizga kirgan boâ€˜lishingiz kerak.
        <br/>
    VideoGramâ€™ga mobil ilova orqali kirish
        1. Mobil qurilmangizda VideoGram ilovasini oching.
        2. Asosiy sahifada pastki oâ€˜ng burchakda joylashgan â€œKirishâ€ tugmasini bosing.
        3. Kirish sahifasida VideoGram foydalanuvchi nomi va parolingizni kiriting.
        4. Maâ€™lumotlaringizni kiritganingizdan soâ€˜ng, â€œKirishâ€ tugmasini bosing.
        5. Siz endi VideoGram akkauntingizga tizimga kirdingiz.
    KONTEKSTNI YOPISH
  </span>
</pre>

Oxirida, <span className="yellow-highlight">suhbat va foydalanuvchi savolini</span> prompt oxiriga qoâ€˜shishimiz kerak, quyidagi misoldagidek.

<pre>
Skippy nomli ilgâ€˜or chatbot sifatida, sizning asosiy maqsadingiz foydalanuvchilarga imkon qadar yaxshi yordam berishdir.
  <br/>
KONTEKSTNI BOSHLASH
VideoGramâ€™ga Veb-saytdan kirish
  1. Veb-brauzeringizni oching va VideoGram veb-saytiga oâ€˜ting.
  2. Sahifaning yuqori oâ€˜ng burchagida joylashgan â€œLoginâ€ tugmasini bosing.
  3. Login sahifasida VideoGram foydalanuvchi nomi va parolingizni kiriting.
  4. Maâ€™lumotlaringizni kiritganingizdan soâ€˜ng, â€œLoginâ€ tugmasini bosing.
  5. Siz endi VideoGram akkauntingizga tizimga kirdingiz.
  <br/>
VideoGramâ€™ga Mobil Ilovadan kirish
  1. Mobil qurilmangizda VideoGram ilovasini oching.
  2. Asosiy sahifada, pastki oâ€˜ng burchakda joylashgan â€œLoginâ€ tugmasini bosing.
  3. Login sahifasida VideoGram foydalanuvchi nomi va parolingizni kiriting.
  4. Maâ€™lumotlaringizni kiritganingizdan soâ€˜ng, â€œLoginâ€ tugmasini bosing.
  5. Siz endi VideoGram akkauntingizga tizimga kirdingiz.
 
KONTEKSTNI YOPISH
  <br/>
  <span className="yellow-highlight">
    SKIPPY: Salom, men Skippy! Sizga qanday yordam bera olaman?
    FOYDALANUVCHI: Login tugmasini topa olmayapman.
        SKIPPY:
  </span>
</pre>

Ushbu promptni GPT-3 ga yuborib, quyidagi javobni oldim.

<pre>
  <span className="bluegreen-highlight">
    Hechqisi yoâ€˜q! Veb-saytda login tugmasi sahifaning yuqori oâ€˜ng burchagida joylashgan. Mobil ilovada esa login tugmasi pastki oâ€˜ng burchakda joylashgan. Qoâ€˜shimcha yordam kerak boâ€˜lsa, menga xabar bering!
  </span>
</pre>

Yaratilgan javobdagi maâ€™lumotlar bilimlar bazasi hujjatidan olinganiga eâ€™tibor bering.

## GPT-3 yordamida savollarni aniqlashtirish

Keling, yanada noaniq foydalanuvchi soâ€˜rovi bilan urinib koâ€˜ramiz, masalan <span className="yellow-highlight">â€œkira olmayapmanâ€</span>. Mana toâ€˜liq prompt.

<pre>
Skippy nomli ilgâ€˜or chatbot sifatida, sizning asosiy maqsadingiz foydalanuvchilarga imkon qadar yaxshi yordam berishdir.
  <br/>
  KONTEKSTNI BOSHLASH
  VideoGramâ€™ga Veb-saytdan kirish
  1. Veb-brauzeringizni oching va VideoGram veb-saytiga oâ€˜ting.
  2. Sahifaning yuqori oâ€˜ng burchagida joylashgan â€œLoginâ€ tugmasini bosing.
  3. Login sahifasida VideoGram foydalanuvchi nomi va parolingizni kiriting.
  4. Maâ€™lumotlaringizni kiritganingizdan soâ€˜ng, â€œLoginâ€ tugmasini bosing.
  5. Siz endi VideoGram akkauntingizga tizimga kirdingiz.
  <br/>
  VideoGramâ€™ga Mobil Ilovadan kirish
  1. Mobil qurilmangizda VideoGram ilovasini oching.
  2. Asosiy sahifada, pastki oâ€˜ng burchakda joylashgan â€œLoginâ€ tugmasini bosing.
  3. Login sahifasida VideoGram foydalanuvchi nomi va parolingizni kiriting.
  4. Maâ€™lumotlaringizni kiritganingizdan soâ€˜ng, â€œLoginâ€ tugmasini bosing.
  5. Siz endi VideoGram akkauntingizga tizimga kirdingiz.
  KONTEKSTNI YOPISH
  <br/>
  SKIPPY: Salom, men Skippy! Sizga qanday yordam bera olaman?
  FOYDALANUVCHI: <span className="yellow-highlight">Kira olmayapman</span>
  SKIPPY:
</pre>

GPT-3 foydalanuvchining muammosini yaxshiroq tushunishga harakat qilib javob beradi.

<pre>
  <span className="bluegreen-highlight">
    Afsuski, bunday boâ€˜ldi. Ayta olasizmi, siz tizimga kirishga harakat qilayotgan joyingiz
    VideoGram veb-sayti yoki mobil ilovasi orqali emasmi?
  </span>
</pre>

Keyingi bosqichda, butun suhbat qanday davom etishini koâ€˜ramiz. Toâ€˜liq prompt koâ€˜rinmasligi uchun yashirilgan.

<pre>
  FOYDALANUVCHI: Kira olmayapman
  <br />
    SKIPPY: Afsuski, bunday boâ€˜ldi. Ayta olasizmi, siz tizimga kirishga harakat qilayotgan joyingiz
    VideoGram veb-sayti yoki mobil ilovasi orqali emasmi?
  <br />
  FOYDALANUVCHI: Mobil ilova
  <br />
  <span className="bluegreen-highlight">
    SKIPPY: OK, muammo yoâ€˜q. Mobil ilova orqali tizimga kirish uchun, VideoGram ilovasini oching
    mobil qurilmangizda. Asosiy sahifada, pastki oâ€˜ng burchakda joylashgan â€œLoginâ€ tugmasini bosing
    tizimga kirish sahifasida VideoGram foydalanuvchi nomingizni
    va parolingizni kiriting. Maâ€™lumotlaringizni kiritganingizdan soâ€˜ng, â€œLoginâ€
    tugmasini bosing. Endi siz VideoGram akkauntingizga kirgan boâ€˜lishingiz kerak. Iltimos,
    qoâ€˜shimcha yordam kerak boâ€˜lsa, menga xabar bering.
  </span>
</pre>

GPT-3 toâ€˜gâ€˜ri kontekstual maâ€™lumotga ega boâ€˜lsa, noaniqliklarni boshqara oladi.

## GPT-3 bilan javoblar yaratishda yuzaga keladigan muammolar

Oldingi misollar yaxshi ishladi. Biroq, bu chatbot muvaffaqiyatsiz boâ€˜lishi mumkin boâ€˜lgan bir nechta holatlar mavjud.

Agar biz â€œMobil ilova bepulmi?â€ deb soâ€˜rasak va kontekst sifatida login hujjatini GPT-3 ga uzatsak, koâ€˜pincha â€œHa, VideoGram mobil ilovasi bepul yuklab olinadi va ishlatiladiâ€ kabi javob olasiz, hatto bunday maâ€™lumot kontekstda mavjud boâ€˜lmasa ham. Notoâ€˜gâ€˜ri maâ€™lumot yaratish mijozlarga xizmat koâ€˜rsatish chatbotlari uchun juda yomon!

Agar foydalanuvchi savoliga javob kontekstda mavjud boâ€˜lsa, GPT-3 kamdan-kam hollarda notoâ€˜gâ€˜ri maâ€™lumot yaratadi. Foydalanuvchi savollari koâ€˜pincha qisqa va noaniq boâ€˜lgani uchun, semantik qidiruv bosqichiga har doim toâ€˜gâ€˜ri hujjat topilishiga ishonib boâ€˜lmaydi, shuning uchun har doim notoâ€˜gâ€˜ri maâ€™lumot yaratilishiga zaifmiz.

## Xulosa

GPT-3 suhbatli chatbotlar yaratishda juda foydali va promptga kiritilgan kontekstual maâ€™lumotlar asosida bir qator aniq savollarga javob bera oladi. Biroq, modelni faqat kontekstdagi maâ€™lumotlarga asoslanib javob berishga majbur qilish qiyin, chunki model koâ€˜pincha halusinasiyaga moyil (yaâ€™ni, yangi, ehtimol notoâ€˜gâ€˜ri maâ€™lumot yaratadi). Notoâ€˜gâ€˜ri maâ€™lumot yaratish muammosi, foydalanish holatiga qarab, turli darajada jiddiy boâ€˜lishi mumkin.

Muallif: [Fabio Chiusano](https://www.linkedin.com/in/fabio-chiusano-b6a3b311b/).
